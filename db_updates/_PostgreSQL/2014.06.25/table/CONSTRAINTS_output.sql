-- Generated by Ora2Pg, the Oracle database Schema converter, version 13.0
-- Copyright 2000-2014 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=192.20.1.81;sid=XE

SET client_encoding TO 'UTF8';

\set ON_ERROR_STOP ON

SET search_path = aero, pg_catalog;ALTER TABLE holding_type ADD PRIMARY KEY (id);
ALTER TABLE oldi_fpl ADD PRIMARY KEY (aircraft_id,adep,ades,reciever);
ALTER TABLE settings ADD PRIMARY KEY (key);
ALTER TABLE restriction ADD PRIMARY KEY (id);
ALTER TABLE border_terms ADD PRIMARY KEY (name);
ALTER TABLE airplane_type ADD PRIMARY KEY (name);
ALTER TABLE arc_aftn ADD PRIMARY KEY (id);
ALTER TABLE wind ADD PRIMARY KEY (id);
ALTER TABLE commands ADD PRIMARY KEY (commandid);
ALTER TABLE zone_map_note ADD PRIMARY KEY (id);
ALTER TABLE squawk ADD UNIQUE (squawk,zone_id);
ALTER TABLE squawk ADD PRIMARY KEY (id);
ALTER TABLE inputmessages ADD PRIMARY KEY (msgid);
ALTER TABLE arinc_changes ADD PRIMARY KEY (id);
ALTER TABLE ssa_type ADD PRIMARY KEY (id);
ALTER TABLE fpl_status_types ADD PRIMARY KEY (name);
ALTER TABLE client ADD PRIMARY KEY (id);
ALTER TABLE client ADD UNIQUE (name);
ALTER TABLE sfpl_master_table ADD PRIMARY KEY (id);
ALTER TABLE client_role ADD PRIMARY KEY (id);
ALTER TABLE client_role ADD UNIQUE (name);
ALTER TABLE route ADD PRIMARY KEY (id);
ALTER TABLE restriction_point_type ADD PRIMARY KEY (id);
ALTER TABLE holding_turn ADD PRIMARY KEY (id);
ALTER TABLE route_point ADD PRIMARY KEY (id);
ALTER TABLE route_point ADD UNIQUE (point_id,route_id);
ALTER TABLE template_chg ADD PRIMARY KEY (id);
ALTER TABLE fpl_master ADD PRIMARY KEY (id);
ALTER TABLE template_cnl ADD PRIMARY KEY (id);
ALTER TABLE exercise ADD PRIMARY KEY (id_exercise);
ALTER TABLE zone_point ADD PRIMARY KEY (id);
ALTER TABLE zone_point ADD UNIQUE (zone_id,point_id);
ALTER TABLE equipment ADD PRIMARY KEY (name);
ALTER TABLE meteo_airport_stg ADD UNIQUE (airport_id);
ALTER TABLE vehicle ADD PRIMARY KEY (id);
ALTER TABLE received_aftn ADD PRIMARY KEY (id);
ALTER TABLE template_fpl ADD PRIMARY KEY (id);
ALTER TABLE archivecommands ADD PRIMARY KEY (commandid);
ALTER TABLE zone ADD PRIMARY KEY (id);
ALTER TABLE zone ADD UNIQUE (id_name,name,type,low_limit,up_limit,parent_id);
ALTER TABLE zone_airport ADD PRIMARY KEY (id);
ALTER TABLE zone_airport ADD UNIQUE (zone_id,airport_id);
ALTER TABLE sectoring_zone ADD PRIMARY KEY (id);
ALTER TABLE sectoring_zone ADD UNIQUE (sect_id,zone_id);
ALTER TABLE sfpl_table ADD PRIMARY KEY (id);
ALTER TABLE bearing ADD PRIMARY KEY (workstation);
ALTER TABLE boundary_point_type ADD PRIMARY KEY (id);
ALTER TABLE rlp ADD UNIQUE (name);
ALTER TABLE rlp ADD PRIMARY KEY (id);
ALTER TABLE hist_outputtelegrams ADD PRIMARY KEY (hist_id);
ALTER TABLE vehicle_route_points ADD PRIMARY KEY (id);
ALTER TABLE fpl ADD PRIMARY KEY (id);
ALTER TABLE point ADD PRIMARY KEY (id);
ALTER TABLE runway ADD PRIMARY KEY (id);
ALTER TABLE users ADD UNIQUE (user_name);
ALTER TABLE users ADD PRIMARY KEY (id);
ALTER TABLE ffpl ADD PRIMARY KEY (id);
ALTER TABLE template_dla ADD PRIMARY KEY (id);
ALTER TABLE aftn_abonent ADD PRIMARY KEY (id);
ALTER TABLE currentstatus ADD PRIMARY KEY (statusid);
ALTER TABLE asterix ADD PRIMARY KEY (id);
ALTER TABLE hist_rpl ADD PRIMARY KEY (hist_id);
ALTER TABLE exercise_circle_type ADD PRIMARY KEY (id);
ALTER TABLE flight_types ADD PRIMARY KEY (name);
ALTER TABLE user_rights ADD PRIMARY KEY (id);
ALTER TABLE archivemessages ADD PRIMARY KEY (msgid);
ALTER TABLE bearing_point ADD PRIMARY KEY (id);
ALTER TABLE hist_report ADD PRIMARY KEY (id);
ALTER TABLE outputtelegrams ADD PRIMARY KEY (id);
ALTER TABLE sectoring ADD PRIMARY KEY (id);
ALTER TABLE sectoring ADD UNIQUE (name);
ALTER TABLE oldi_clients ADD PRIMARY KEY (id);
ALTER TABLE oldi_clients ADD UNIQUE (sector);
ALTER TABLE point_type ADD PRIMARY KEY (id);
ALTER TABLE fpl_additional ADD PRIMARY KEY (fpl_id_ref);
ALTER TABLE notam ADD PRIMARY KEY (id);
ALTER TABLE notam ADD UNIQUE (series,snumber,year);
ALTER TABLE restriction_user ADD PRIMARY KEY (id);
ALTER TABLE restriction_type ADD PRIMARY KEY (id);
ALTER TABLE client_sectoring ADD PRIMARY KEY (id);
ALTER TABLE aftn_group ADD PRIMARY KEY (id);
ALTER TABLE meteo ADD PRIMARY KEY (id);
ALTER TABLE airplane_speed ADD PRIMARY KEY (id);
ALTER TABLE ssa_point_type ADD PRIMARY KEY (id);
ALTER TABLE hist_fpl ADD PRIMARY KEY (hist_id);
ALTER TABLE template_dep ADD PRIMARY KEY (id);
ALTER TABLE radio_devices ADD PRIMARY KEY (name);
ALTER TABLE restriction_point_master ADD PRIMARY KEY (id);
ALTER TABLE aftn_abonent_autotypes ADD PRIMARY KEY (id);
ALTER TABLE vehicle_plan ADD PRIMARY KEY (id);
ALTER TABLE ssa_point ADD PRIMARY KEY (id);
ALTER TABLE ssa_point_turn ADD PRIMARY KEY (id);
ALTER TABLE oldi_sfpl ADD PRIMARY KEY (aircraft_id,adep,ades,reciever);
ALTER TABLE outputmessages ADD PRIMARY KEY (msgid);
ALTER TABLE template_free_text ADD PRIMARY KEY (id);
ALTER TABLE holding_point_master ADD PRIMARY KEY (id);
ALTER TABLE holding ADD PRIMARY KEY (id);
ALTER TABLE ssa ADD PRIMARY KEY (id);
ALTER TABLE restriction_user_type ADD PRIMARY KEY (id);
ALTER TABLE restriction_point ADD PRIMARY KEY (id);
ALTER TABLE turbulence_category ADD PRIMARY KEY (name);
ALTER TABLE vehicle_route ADD PRIMARY KEY (id);
ALTER TABLE zone_schedule ADD PRIMARY KEY (id);
ALTER TABLE level_types ADD PRIMARY KEY (name);
ALTER TABLE sectoring_type ADD UNIQUE (name);
ALTER TABLE sectoring_type ADD PRIMARY KEY (id);
ALTER TABLE vehicle_exercise ADD PRIMARY KEY (id);
ALTER TABLE stand_state ADD PRIMARY KEY (id);
ALTER TABLE man_aftn ADD PRIMARY KEY (id);
ALTER TABLE stand ADD PRIMARY KEY (id);
ALTER TABLE meteo_type ADD PRIMARY KEY (id);
ALTER TABLE echelons ADD PRIMARY KEY (id);
ALTER TABLE meteo_point ADD PRIMARY KEY (id);
ALTER TABLE sent_aftn ADD PRIMARY KEY (id);
ALTER TABLE hist_man_aftn ADD PRIMARY KEY (hist_id);
ALTER TABLE flight_rules ADD PRIMARY KEY (name);
ALTER TABLE zone_boundary ADD PRIMARY KEY (id);
ALTER TABLE trashtelegrams ADD PRIMARY KEY (id);
ALTER TABLE server_list ADD PRIMARY KEY (name);
ALTER TABLE currentstatistics ADD PRIMARY KEY (statsid);
ALTER TABLE zone_type ADD PRIMARY KEY (id);
ALTER TABLE rpl ADD PRIMARY KEY (id);
ALTER TABLE aftn_abonent_group ADD PRIMARY KEY (id);
ALTER TABLE template_arr ADD PRIMARY KEY (id);
ALTER TABLE exercise_stand ADD PRIMARY KEY (id);
ALTER TABLE sys_tables_info ADD PRIMARY KEY (tablename);
ALTER TABLE speed_types ADD PRIMARY KEY (name);
ALTER TABLE airport ADD PRIMARY KEY (id);
ALTER TABLE restriction_point_user ADD PRIMARY KEY (id);
ALTER TABLE restriction ADD CONSTRAINT fk_restriction_type_id FOREIGN KEY (type) REFERENCES restriction_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE restriction ADD CONSTRAINT fk_restriction_zone_id FOREIGN KEY (zone_id) REFERENCES zone(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE zone_map_note ADD CONSTRAINT zone_map_note_zone_fk1 FOREIGN KEY (zone_id) REFERENCES zone(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE client ADD CONSTRAINT client_client_role_fk1 FOREIGN KEY (role_id) REFERENCES client_role(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE route ADD CONSTRAINT fk_routes_zoneid FOREIGN KEY (zone_id) REFERENCES zone(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE route_point ADD CONSTRAINT fk_routepoints_point_id FOREIGN KEY (point_id) REFERENCES point(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE route_point ADD CONSTRAINT fk_routepoints_routid FOREIGN KEY (route_id) REFERENCES route(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE zone_point ADD CONSTRAINT fk_sectorpoints_point_id FOREIGN KEY (point_id) REFERENCES point(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE zone_point ADD CONSTRAINT fk_sectorpoints_zone_id FOREIGN KEY (zone_id) REFERENCES zone(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE meteo_airport_stg ADD CONSTRAINT meteo_airport_stg_airport_fk1 FOREIGN KEY (airport_id) REFERENCES airport(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE zone ADD CONSTRAINT zone_zone_type_fk1 FOREIGN KEY (type) REFERENCES zone_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE zone_airport ADD CONSTRAINT fk_zoneairports_airport_id FOREIGN KEY (airport_id) REFERENCES airport(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE zone_airport ADD CONSTRAINT fk_zoneairports_zone_id FOREIGN KEY (zone_id) REFERENCES zone(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sectoring_zone ADD CONSTRAINT sectoring_zone_sectoring_fk1 FOREIGN KEY (sect_id) REFERENCES sectoring(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE vehicle_route_points ADD CONSTRAINT vehicle_route_points_vehi_fk1 FOREIGN KEY (route_id) REFERENCES vehicle_route(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE point ADD CONSTRAINT fk_point_type_id FOREIGN KEY (type) REFERENCES point_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE runway ADD CONSTRAINT fk_runways_airport_id FOREIGN KEY (airport_id) REFERENCES airport(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE meteo_runway ADD CONSTRAINT meteo_runway_runway_fk1 FOREIGN KEY (runway_id) REFERENCES runway(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_rights ADD CONSTRAINT user_rights_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE exercise_plane ADD CONSTRAINT exercise_plane_exercise_fk1 FOREIGN KEY (id_exercise) REFERENCES exercise(id_exercise) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE exercise_plane ADD CONSTRAINT exercise_plane_fpl_fk1 FOREIGN KEY (id_plane) REFERENCES fpl(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE exercise_plane ADD CONSTRAINT exercise_plane_exercise_c_fk1 FOREIGN KEY (circle) REFERENCES exercise_circle_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sectoring ADD CONSTRAINT sectoring_sectoring_type_fk1 FOREIGN KEY (type_id) REFERENCES sectoring_type(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE fpl_additional ADD CONSTRAINT fpl_additional_fpl_fk1 FOREIGN KEY (fpl_id_ref) REFERENCES fpl(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE restriction_user ADD CONSTRAINT restriction_user_restrict_fk1 FOREIGN KEY (type) REFERENCES restriction_user_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE restriction_user ADD CONSTRAINT restriction_user_zone_fk1 FOREIGN KEY (zone_id) REFERENCES zone(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE client_sectoring ADD CONSTRAINT client_sectoring_client_r_fk1 FOREIGN KEY (client_role_id) REFERENCES client_role(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE client_sectoring ADD CONSTRAINT client_sectoring_sectorin_fk1 FOREIGN KEY (sectoring_id) REFERENCES sectoring(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE meteo ADD CONSTRAINT meteo_meteo_type_fk1 FOREIGN KEY (type) REFERENCES meteo_type(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE airplane_speed ADD CONSTRAINT airplane_speed_airplane_t_fk1 FOREIGN KEY (airplane_id) REFERENCES airplane_type(name) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE restriction_point_master ADD CONSTRAINT restriction_point_master__fk1 FOREIGN KEY (restriction_id) REFERENCES restriction(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aftn_abonent_autotypes ADD CONSTRAINT aftn_abonent_autotypes_af_fk1 FOREIGN KEY (aftn_abonent_id) REFERENCES aftn_abonent(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE vehicle_plan ADD CONSTRAINT vehicle_plan_vehicle_fk1 FOREIGN KEY (vehicle_id) REFERENCES vehicle(id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE vehicle_plan ADD CONSTRAINT vehicle_plan_vehicle_rout_fk1 FOREIGN KEY (route_id) REFERENCES vehicle_route(id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE ssa_point ADD CONSTRAINT fk_ssapoints_ssa_id FOREIGN KEY (ssa_id) REFERENCES ssa(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE ssa_point ADD CONSTRAINT fk_ssa_point_turn_id FOREIGN KEY (turn) REFERENCES ssa_point_turn(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE ssa_point ADD CONSTRAINT fk_ssa_point_type_id FOREIGN KEY (type) REFERENCES ssa_point_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE holding_point_master ADD CONSTRAINT holding_point_master_hold_fk1 FOREIGN KEY (holding_id) REFERENCES holding(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE holding ADD CONSTRAINT fk_holding_point_id FOREIGN KEY (point_id) REFERENCES point(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE holding ADD CONSTRAINT fk_holding_turn_id FOREIGN KEY (turn_direction) REFERENCES holding_turn(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE holding ADD CONSTRAINT fk_holding_type_id FOREIGN KEY (type) REFERENCES holding_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE holding ADD CONSTRAINT fk_holding_zone_id FOREIGN KEY (zone_id) REFERENCES zone(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE ssa ADD CONSTRAINT fk_ssa_runway_id FOREIGN KEY (runway_id) REFERENCES runway(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE ssa ADD CONSTRAINT fk_ssa_type_id FOREIGN KEY (type) REFERENCES ssa_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE restriction_point ADD CONSTRAINT fk_restriction_point_type_id FOREIGN KEY (type) REFERENCES restriction_point_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE restriction_point ADD CONSTRAINT restriction_point_restric_fk1 FOREIGN KEY (restriction_id) REFERENCES restriction(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE vehicle_route ADD CONSTRAINT vehicle_route_airport_fk1 FOREIGN KEY (airport_id) REFERENCES airport(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE vehicle_exercise ADD CONSTRAINT vehicle_exercise_vehicle_fk1 FOREIGN KEY (vehicle_plan_id) REFERENCES vehicle_plan(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE vehicle_exercise ADD CONSTRAINT vehicle_exercise_exercise_fk1 FOREIGN KEY (exercise_id) REFERENCES exercise(id_exercise) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE stand ADD CONSTRAINT stand_airport_fk1 FOREIGN KEY (airport_id) REFERENCES airport(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE meteo_point ADD CONSTRAINT fk_meteo_point_meteo_id FOREIGN KEY (meteo_id) REFERENCES meteo(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE zone_boundary ADD CONSTRAINT fk_boundary_point_type_id FOREIGN KEY (type) REFERENCES boundary_point_type(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE zone_boundary ADD CONSTRAINT zone_boundary_zone_id FOREIGN KEY (zone_id) REFERENCES zone(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aftn_abonent_group ADD CONSTRAINT aftn_abonent_group_aftn_a_fk1 FOREIGN KEY (abonent_id) REFERENCES aftn_abonent(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aftn_abonent_group ADD CONSTRAINT aftn_abonent_group_aftn_g_fk1 FOREIGN KEY (group_id) REFERENCES aftn_group(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE exercise_stand ADD CONSTRAINT exercise_stand_exercise_fk1 FOREIGN KEY (exercise_id) REFERENCES exercise(id_exercise) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE exercise_stand ADD CONSTRAINT exercise_stand_fpl_fk1 FOREIGN KEY (fpl_id) REFERENCES fpl(id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE exercise_stand ADD CONSTRAINT exercise_stand_stand_fk1 FOREIGN KEY (stand_id) REFERENCES stand(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE exercise_stand ADD CONSTRAINT exercise_stand_stand_stat_fk1 FOREIGN KEY (state_id) REFERENCES stand_state(id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE restriction_point_user ADD CONSTRAINT restriction_point_user_re_fk1 FOREIGN KEY (type) REFERENCES restriction_point_type(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
